(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"2f44":function(t,e,a){},"30a3":function(t,e,a){"use strict";var n=a("e675"),s=a.n(n);s.a},"45b5":function(t,e,a){},"481b":function(t,e,a){},"49f2":function(t,e,a){"use strict";a("7c36"),a("80b9"),a("e47e"),a("8077"),a("34fd"),a("df3f"),a("a6bd")},"5cf8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scan"},[t._m(0),a("footer",[a("button",{on:{click:t.startRecognize}},[t._v("1.创建控件")]),a("button",{on:{click:t.startScan}},[t._v("2.开始扫描")]),a("button",{on:{click:t.cancelScan}},[t._v("3.结束扫描")]),a("button",{on:{click:t.closeScan}},[t._v("4.关闭控件")])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"bcid"}},[a("div",{staticStyle:{height:"40%"}}),a("p",{staticClass:"tip"},[t._v("...载入中...")])])}],c=(a("f548"),null),o={data:function(){return{codeUrl:""}},methods:{startRecognize:function(){var t=this;function e(e,a,n){switch(e){case plus.barcode.QR:e="QR";break;case plus.barcode.EAN13:e="EAN13";break;case plus.barcode.EAN8:e="EAN8";break;default:e="其它"+e;break}a=a.replace(/\n/g,""),t.codeUrl=a,alert(a),t.closeScan()}window.plus&&(c=new plus.barcode.Barcode("bcid"),c.onmarked=e)},startScan:function(){window.plus&&c.start()},cancelScan:function(){window.plus&&c.cancel()},closeScan:function(){window.plus&&c.close()}}},i=o,r=(a("bc4a"),a("9ca4")),l=Object(r["a"])(i,n,s,!1,null,null,null);e["default"]=l.exports},8555:function(t,e,a){"use strict";var n=a("d601"),s=a("23c4"),c=a.n(s),o=a("35ea"),i=a("2a47"),r=a("6421"),l=a("d470"),u=a("88a6"),d=a("43c9"),p=Object(o["a"])("action-sheet"),f=p[0],m=p[1];function h(t,e,a,n){var s=e.title,o=e.cancelText,r=e.closeable;function p(){Object(i["a"])(n,"input",!1),Object(i["a"])(n,"cancel")}function f(){if(s)return t("div",{class:m("header")},[s,r&&t(l["a"],{attrs:{name:e.closeIcon},class:m("close"),on:{click:p}})])}function h(){if(a.default)return t("div",{class:m("content")},[a.default()])}function v(a,s){var c=a.disabled,o=a.loading,r=a.callback;function l(t){t.stopPropagation(),c||o||(r&&r(a),Object(i["a"])(n,"select",a,s),e.closeOnClickAction&&Object(i["a"])(n,"input",!1))}function u(){return o?t(d["a"],{class:m("loading-icon")}):[t("span",{class:m("name")},[a.name]),a.subname&&t("div",{class:m("subname")},[a.subname])]}return t("button",{attrs:{type:"button"},class:[m("item",{disabled:c,loading:o}),a.className],style:{color:a.color},on:{click:l}},[u()])}function b(){if(o)return[t("div",{class:m("gap")}),t("button",{attrs:{type:"button"},class:m("cancel"),on:{click:p}},[o])]}function g(){var n=(null==a.description?void 0:a.description())||e.description;if(n)return t("div",{class:m("description")},[n])}return t(u["a"],c()([{class:m(),attrs:{position:"bottom",round:e.round,value:e.value,overlay:e.overlay,duration:e.duration,lazyRender:e.lazyRender,lockScroll:e.lockScroll,getContainer:e.getContainer,closeOnPopstate:e.closeOnPopstate,closeOnClickOverlay:e.closeOnClickOverlay,safeAreaInsetBottom:e.safeAreaInsetBottom}},Object(i["b"])(n,!0)]),[f(),g(),e.actions&&e.actions.map(v),h(),b()])}h.props=Object(n["a"])({},r["b"],{title:String,actions:Array,duration:[Number,String],cancelText:String,description:String,getContainer:[String,Function],closeOnPopstate:Boolean,closeOnClickAction:Boolean,round:{type:Boolean,default:!0},closeable:{type:Boolean,default:!0},closeIcon:{type:String,default:"cross"},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}}),e["a"]=f(h)},a6bd:function(t,e,a){},ac2a:function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("p",{staticClass:"logo"}),a("p",{staticClass:"crm"},[t._v("盛彩印刷包装MES")]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"account",attrs:{type:"text",placeholder:"手机号码",value:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"password",attrs:{type:"password",placeholder:"密码",value:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"check flex-fs"},[a("van-checkbox",{attrs:{"icon-size":"14px",shape:"square"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("记住密码")])],1),a("div",{staticClass:"submit",on:{click:t.submitLogin}},[t._v("登录")]),a("router-link",{staticClass:"forgetPassword",attrs:{to:{path:"/change_password"}}},[t._v("修改密码?")])],1),a("p",{staticClass:"bottom"},[t._v("*若没有账号,请联系管理员*")])])},c=[],o=(a("f548"),a("ce3c")),i=(a("7c36"),a("481b"),a("35ea")),r=a("fa2b"),l=a("5d34"),u=Object(i["a"])("checkbox-group"),d=u[0],p=u[1],f=d({mixins:[Object(l["b"])("vanCheckbox"),r["a"]],props:{max:[Number,String],disabled:Boolean,direction:String,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggleAll:function(t){if(!1!==t){var e=this.children;t||(e=e.filter((function(t){return!t.checked})));var a=e.map((function(t){return t.name}));this.$emit("input",a)}else this.$emit("input",[])}},render:function(){var t=arguments[0];return t("div",{class:p([this.direction])},[this.slots()])}}),m=(a("cc57"),a("e47e"),a("8077"),a("c4ae"),a("7078")),h=Object(i["a"])("checkbox"),v=h[0],b=h[1],g=v({mixins:[Object(m["a"])({bem:b,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){e.checked=t}))},setParentValue:function(t){var e=this.parent,a=e.value.slice();if(t){if(e.max&&a.length>=e.max)return;-1===a.indexOf(this.name)&&(a.push(this.name),e.$emit("input",a))}else{var n=a.indexOf(this.name);-1!==n&&(a.splice(n,1),e.$emit("input",a))}}}}),k=a("c24f"),_=a("c246"),w=a("ed08"),O={name:"登录",components:(n={},Object(o["a"])(n,g.name,g),Object(o["a"])(n,f.name,f),n),data:function(){return{checked:!0,account:"",password:""}},created:function(){_["a"].get("userInfo")&&_["a"].get("ntoken")&&this.$router.replace({path:"/index"})},mounted:function(){var t=_["a"].get("account_m"),e=_["a"].get("account_p");t&&e&&(e=e.replace("x19980731",""),e=e.replace("!857094/",""),this.account=t,this.password=e)},methods:{submitLogin:function(){var t=this;""==Object(w["e"])(this.account)?this.$dialog.message("请输入手机号"):""==Object(w["e"])(this.password)?this.$dialog.message("请输入密码"):Object(k["c"])({mobile:this.account,password:this.password}).then((function(e){var a=e.data;_["a"].set("ntoken",a.token),_["a"].set("userInfo",JSON.stringify(a)),t.checked&&(_["a"].set("account_m",t.account),_["a"].set("account_p","!857094/"+t.password+"x19980731")),0==a.role?t.$router.replace({path:"/dataCenter"}):t.$router.replace({path:"/index"})})).catch((function(e){t.$dialog.message(e.msg)}))}}},j=O,C=(a("db93"),a("9ca4")),x=Object(C["a"])(j,s,c,!1,null,"76c93640",null);e["default"]=x.exports},ad50:function(t,e,a){},bc4a:function(t,e,a){"use strict";var n=a("45b5"),s=a.n(n);s.a},c242:function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("p",{staticClass:"logo"}),a("p",{staticClass:"crm"},[t._v("密码修改")]),a("p",[a("input",{staticClass:"account",attrs:{type:"text",disabled:"",placeholder:"用户昵称"},domProps:{value:t.mobile}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.old_pass,expression:"old_pass"}],staticClass:"password",attrs:{type:"password",placeholder:"旧密码",value:""},domProps:{value:t.old_pass},on:{input:function(e){e.target.composing||(t.old_pass=e.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_pass,expression:"user_pass"}],staticClass:"password",attrs:{type:"password",placeholder:"新密码",value:""},domProps:{value:t.user_pass},on:{input:function(e){e.target.composing||(t.user_pass=e.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ruser_pass,expression:"ruser_pass"}],staticClass:"password",attrs:{type:"password",placeholder:"重复密码",value:""},domProps:{value:t.ruser_pass},on:{input:function(e){e.target.composing||(t.ruser_pass=e.target.value)}}})]),a("div",{staticClass:"submit",on:{click:t.submitLogin}},[t._v("确认修改")])]),a("van-action-sheet",{attrs:{actions:t.actions},on:{select:t.onSelect},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},c=[],o=(a("f548"),a("ce3c")),i=(a("49f2"),a("8555")),r=(a("8e93"),a("a41f")),l=(a("cc57"),a("733f"),a("d470")),u=a("c24f"),d=a("c246"),p=a("ed08"),f={name:"ChangePassword",components:(n={},Object(o["a"])(n,l["a"].name,l["a"]),Object(o["a"])(n,r["a"].name,r["a"]),Object(o["a"])(n,i["a"].name,i["a"]),n),data:function(){return{checked:!0,user_pass:"",old_pass:"",ruser_pass:"",mobile:"",show:!1,actions:[{name:"系统刷新"},{name:"退出登录"}]}},mounted:function(){var t=this;Object(u["a"])().then((function(e){var a=e.data;t.mobile=a.user.mobile})).catch((function(t){Object(r["a"])(t.msg)}))},methods:{openSetting:function(){this.show=!0},onSelect:function(t){"系统刷新"==t.name?(this.show=!1,d["a"].remove("ntoken"),Object(r["a"])("清除成功")):(this.show=!1,d["a"].remove("ntoken"),this.$router.replace({path:"/"}))},submitLogin:function(){""==Object(p["e"])(this.user_nickname)?Object(r["a"])("请输入昵称"):""==Object(p["e"])(this.old_pass)?Object(r["a"])("请输入旧密码"):""==Object(p["e"])(this.user_pass)?Object(r["a"])("请输入新密码"):Object(p["e"])(this.user_pass)!=Object(p["e"])(this.ruser_pass)?Object(r["a"])("两次密码不一致"):Object(u["d"])({user_nickname:this.user_nickname,old_pass:this.old_pass,user_pass:this.user_pass}).then((function(t){t.data;Object(r["a"])("修改成功"),location.reload()})).catch((function(t){Object(r["a"])(t.msg)}))}}},m=f,h=(a("c40f"),a("9ca4")),v=Object(h["a"])(m,s,c,!1,null,"2d2bbda1",null);e["default"]=v.exports},c40f:function(t,e,a){"use strict";var n=a("2f44"),s=a.n(n);s.a},c4ae:function(t,e,a){},db93:function(t,e,a){"use strict";var n=a("ad50"),s=a.n(n);s.a},e37a:function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"content"},[a("van-cell",{attrs:{title:"产量报表","is-link":"",to:"/analysis"}}),a("van-cell",{attrs:{title:"待加工订单","is-link":"",to:"/dataCenter"}}),a("van-cell",{attrs:{title:"密码修改","is-link":"",to:"/change_password"}}),a("van-cell",{attrs:{title:"资料修改","is-link":"",to:"/changeInfo"}}),a("van-cell",{attrs:{title:"安全退出","is-link":""},on:{click:t.logout}})],1)])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:"https://thirdwx.qlogo.cn/mmopen/vi_32/shtiammO5YRnUewhrtJobt7UU8qPYkslw0scF8e2fvznBwOhVstNRC3JpmL6x4p9NwACwnkCs9aH5gpbnL2f4ag/132",alt:""}})]),t._v("\n    YHJ\n  ")])}],o=(a("f548"),a("ce3c")),i=(a("733f"),a("d470")),r=(a("cc57"),a("4f3e"),a("0353")),l=a("c246"),u={name:"UserCenter",components:(n={},Object(o["a"])(n,r["a"].name,r["a"]),Object(o["a"])(n,i["a"].name,i["a"]),n),data:function(){return{data:null}},created:function(){},mounted:function(){},methods:{logout:function(){l["a"].remove("ntoken"),this.$router.replace({path:"/"})}}},d=u,p=(a("30a3"),a("9ca4")),f=Object(p["a"])(d,s,c,!1,null,"218b290a",null);e["default"]=f.exports},e675:function(t,e,a){}}]);
//# sourceMappingURL=login.efb81657.js.map