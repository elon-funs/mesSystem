(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0072":function(t,e,a){"use strict";var n=a("35ea"),s=a("a450"),c=a("d470"),i=Object(n["a"])("nav-bar"),o=i[0],r=i[1];e["a"]=o({props:{title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,border:{type:Boolean,default:!0}},data:function(){return{height:null}},mounted:function(){this.placeholder&&this.fixed&&(this.height=this.$refs.navBar.getBoundingClientRect().height)},methods:{genLeft:function(){var t=this.$createElement,e=this.slots("left");return e||[this.leftArrow&&t(c["a"],{class:r("arrow"),attrs:{name:"arrow-left"}}),this.leftText&&t("span",{class:r("text")},[this.leftText])]},genRight:function(){var t=this.$createElement,e=this.slots("right");return e||(this.rightText?t("span",{class:r("text")},[this.rightText]):void 0)},genNavBar:function(){var t,e=this.$createElement;return e("div",{ref:"navBar",style:{zIndex:this.zIndex},class:[r({fixed:this.fixed}),(t={},t[s["a"]]=this.border,t)]},[e("div",{class:r("left"),on:{click:this.onClickLeft}},[this.genLeft()]),e("div",{class:[r("title"),"van-ellipsis"]},[this.slots("title")||this.title]),e("div",{class:r("right"),on:{click:this.onClickRight}},[this.genRight()])])},onClickLeft:function(t){this.$emit("click-left",t)},onClickRight:function(t){this.$emit("click-right",t)}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:r("placeholder"),style:{height:this.height+"px"}},[this.genNavBar()]):this.genNavBar()}})},"0cdb":function(t,e,a){},"30a3":function(t,e,a){"use strict";var n=a("e675"),s=a.n(n);s.a},"45b5":function(t,e,a){},"481b":function(t,e,a){},"54b3":function(t,e,a){},"5cf8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scan"},[t._m(0),a("footer",[a("button",{on:{click:t.startRecognize}},[t._v("1.创建控件")]),a("button",{on:{click:t.startScan}},[t._v("2.开始扫描")]),a("button",{on:{click:t.cancelScan}},[t._v("3.结束扫描")]),a("button",{on:{click:t.closeScan}},[t._v("4.关闭控件")])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"bcid"}},[a("div",{staticStyle:{height:"40%"}}),a("p",{staticClass:"tip"},[t._v("...载入中...")])])}],c=(a("f548"),null),i={data:function(){return{codeUrl:""}},methods:{startRecognize:function(){var t=this;function e(e,a,n){switch(e){case plus.barcode.QR:e="QR";break;case plus.barcode.EAN13:e="EAN13";break;case plus.barcode.EAN8:e="EAN8";break;default:e="其它"+e;break}a=a.replace(/\n/g,""),t.codeUrl=a,alert(a),t.closeScan()}window.plus&&(c=new plus.barcode.Barcode("bcid"),c.onmarked=e)},startScan:function(){window.plus&&c.start()},cancelScan:function(){window.plus&&c.cancel()},closeScan:function(){window.plus&&c.close()}}},o=i,r=(a("bc4a"),a("9ca4")),l=Object(r["a"])(o,n,s,!1,null,null,null);e["default"]=l.exports},"732c":function(t,e,a){},"9f94":function(t,e,a){"use strict";a("7c36"),a("e47e"),a("8077"),a("0cdb")},ac2a:function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("p",{staticClass:"logo"}),a("p",{staticClass:"crm"},[t._v("盛彩印刷包装MES")]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"account",attrs:{type:"text",placeholder:"手机号码",value:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"password",attrs:{type:"password",placeholder:"密码",value:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"check flex-fs"},[a("van-checkbox",{attrs:{"icon-size":"14px",shape:"square"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("记住密码")])],1),a("div",{staticClass:"submit",on:{click:t.submitLogin}},[t._v("登录")])]),a("p",{staticClass:"bottom"},[t._v("*若没有账号,请联系管理员*")])])},c=[],i=(a("f548"),a("ce3c")),o=(a("7c36"),a("481b"),a("35ea")),r=a("fa2b"),l=a("5d34"),u=Object(o["a"])("checkbox-group"),d=u[0],h=u[1],f=d({mixins:[Object(l["b"])("vanCheckbox"),r["a"]],props:{max:[Number,String],disabled:Boolean,direction:String,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggleAll:function(t){if(!1!==t){var e=this.children;t||(e=e.filter((function(t){return!t.checked})));var a=e.map((function(t){return t.name}));this.$emit("input",a)}else this.$emit("input",[])}},render:function(){var t=arguments[0];return t("div",{class:h([this.direction])},[this.slots()])}}),p=(a("cc57"),a("e47e"),a("8077"),a("c4ae"),a("7078")),m=Object(o["a"])("checkbox"),v=m[0],b=m[1],g=v({mixins:[Object(p["a"])({bem:b,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){e.checked=t}))},setParentValue:function(t){var e=this.parent,a=e.value.slice();if(t){if(e.max&&a.length>=e.max)return;-1===a.indexOf(this.name)&&(a.push(this.name),e.$emit("input",a))}else{var n=a.indexOf(this.name);-1!==n&&(a.splice(n,1),e.$emit("input",a))}}}}),k=a("c24f"),_=a("c246"),x=a("ed08"),w={name:"登录",components:(n={},Object(i["a"])(n,g.name,g),Object(i["a"])(n,f.name,f),n),data:function(){return{checked:!0,account:"",password:""}},created:function(){_["a"].get("userInfo")&&_["a"].get("ntoken")&&this.$router.replace({path:"/index"})},mounted:function(){var t=_["a"].get("account_m"),e=_["a"].get("account_p");t&&e&&(e=e.replace("x19980731",""),e=e.replace("!857094/",""),this.account=t,this.password=e)},methods:{submitLogin:function(){var t=this;""==Object(x["e"])(this.account)?this.$dialog.message("请输入手机号"):""==Object(x["e"])(this.password)?this.$dialog.message("请输入密码"):Object(k["c"])({mobile:this.account,password:this.password}).then((function(e){var a=e.data;_["a"].set("ntoken",a.token),_["a"].set("userInfo",JSON.stringify(a)),t.checked&&(_["a"].set("account_m",t.account),_["a"].set("account_p","!857094/"+t.password+"x19980731")),0==a.role?t.$router.replace({path:"/dataCenter"}):t.$router.replace({path:"/index"})})).catch((function(e){t.$dialog.message(e.msg)}))}}},O=w,C=(a("dd7d"),a("9ca4")),j=Object(C["a"])(O,s,c,!1,null,"7951a7fe",null);e["default"]=j.exports},bc4a:function(t,e,a){"use strict";var n=a("45b5"),s=a.n(n);s.a},c242:function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"密码修改","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),a("div",{staticClass:"content"},[a("p",{staticClass:"logo"}),a("van-cell-group",[a("van-field",{attrs:{disabled:"",label:"登录账号",placeholder:""},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),a("van-field",{attrs:{label:"旧密码",type:"password",placeholder:"请输入旧密码"},model:{value:t.old_pass,callback:function(e){t.old_pass=e},expression:"old_pass"}}),a("van-field",{attrs:{label:"新密码",placeholder:"请输入新密码",type:"password"},model:{value:t.user_pass,callback:function(e){t.user_pass=e},expression:"user_pass"}}),a("van-field",{attrs:{type:"password",label:"重复密码",placeholder:"请输入再次输入密码"},model:{value:t.ruser_pass,callback:function(e){t.ruser_pass=e},expression:"ruser_pass"}})],1),a("div",{staticClass:"submit",on:{click:t.submitLogin}},[t._v("确认修改")])],1)],1)},c=[],i=a("ce3c"),o=(a("9f94"),a("0072")),r=(a("8e93"),a("a41f")),l=(a("a6c2"),a("721a")),u=(a("cc57"),a("733f"),a("d470")),d=a("c24f"),h=(a("c246"),a("ed08")),f={name:"ChangePassword",components:(n={},Object(i["a"])(n,u["a"].name,u["a"]),Object(i["a"])(n,l["a"].name,l["a"]),Object(i["a"])(n,r["a"].name,r["a"]),Object(i["a"])(n,o["a"].name,o["a"]),n),data:function(){return{checked:!0,user_pass:"",old_pass:"",ruser_pass:"",mobile:"",show:!1}},mounted:function(){var t=this;Object(d["a"])().then((function(e){var a=e.data;t.mobile=a.user.mobile})).catch((function(t){Object(r["a"])(t.msg)}))},methods:{onClickLeft:function(){this.$router.go(-1)},submitLogin:function(){""==Object(h["e"])(this.old_pass)?Object(r["a"])("请输入旧密码"):""==Object(h["e"])(this.user_pass)?Object(r["a"])("请输入新密码"):Object(h["e"])(this.user_pass)!=Object(h["e"])(this.ruser_pass)?Object(r["a"])("两次密码不一致"):Object(d["d"])({user_nickname:this.user_nickname,old_pass:this.old_pass,user_pass:this.user_pass}).then((function(t){t.data;Object(r["a"])("修改成功"),location.reload()})).catch((function(t){Object(r["a"])(t.msg)}))}}},p=f,m=(a("e075"),a("9ca4")),v=Object(m["a"])(p,s,c,!1,null,"5c90381b",null);e["default"]=v.exports},c4ae:function(t,e,a){},dd7d:function(t,e,a){"use strict";var n=a("54b3"),s=a.n(n);s.a},e075:function(t,e,a){"use strict";var n=a("732c"),s=a.n(n);s.a},e37a:function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"content"},[a("van-cell",{attrs:{title:"产量报表","is-link":"",to:"/analysis"}}),a("van-cell",{attrs:{title:"待加工订单","is-link":"",to:"/dataCenter"}}),a("van-cell",{attrs:{title:"密码修改","is-link":"",to:"/change_password"}}),a("van-cell",{attrs:{title:"资料修改","is-link":"",to:"/changeInfo"}}),a("van-cell",{attrs:{title:"安全退出","is-link":""},on:{click:t.logout}})],1)])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:"https://thirdwx.qlogo.cn/mmopen/vi_32/shtiammO5YRnUewhrtJobt7UU8qPYkslw0scF8e2fvznBwOhVstNRC3JpmL6x4p9NwACwnkCs9aH5gpbnL2f4ag/132",alt:""}})]),t._v("\n    YHJ\n  ")])}],i=(a("f548"),a("ce3c")),o=(a("733f"),a("d470")),r=(a("cc57"),a("4f3e"),a("0353")),l=a("c246"),u={name:"UserCenter",components:(n={},Object(i["a"])(n,r["a"].name,r["a"]),Object(i["a"])(n,o["a"].name,o["a"]),n),data:function(){return{data:null}},created:function(){},mounted:function(){},methods:{logout:function(){l["a"].remove("ntoken"),this.$router.replace({path:"/"})}}},d=u,h=(a("30a3"),a("9ca4")),f=Object(h["a"])(d,s,c,!1,null,"218b290a",null);e["default"]=f.exports},e675:function(t,e,a){}}]);
//# sourceMappingURL=login.9e653d49.js.map